{
    "collab_server" : "",
    "contents" : "library(readr)\nlibrary(stringr)\nlibrary(Amelia)\nlibrary(dplyr)\n\nstarwars <- read_csv(\"~/Google Drive/Data Projects/TidyTuesday/Data/week7_starwars.csv\")\n\n#Rename columns\nnames(starwars)[1] <- \"ID\"\nnames(starwars)[2] <- \"seenAny\"\nnames(starwars)[3] <- \"fan\"\nnames(starwars)[4:9] <- paste0(\"seen\", seq(1:6))\nnames(starwars)[10:15] <- paste0(\"rank\", seq(1:6))\nnames(starwars)[16:29] <- paste0(\"favorability\",starwars[1,16:29])\nnames(starwars)[30] <- \"shotFirst\"\nnames(starwars)[31] <- \"familiarExpanded\"\nnames(starwars)[32] <- \"fanExpanded\"\nnames(starwars)[33] <- \"fanStarTrek\"\nnames(starwars)[34] <- \"gender\"\nnames(starwars)[35] <- \"age\"\nnames(starwars)[36] <- \"income\"\nnames(starwars)[37] <- \"education\"\nnames(starwars)[38] <- \"censusRegion\"\n\n#Remove spaces\nnames(starwars) <- str_replace_all(names(starwars), fixed(\" \"), \"\")\n\n#Remove first row - serves as a subtitle for some headers\nstarwars <- as.data.frame(starwars[-c(1),])\n\n\n\n#Much of the missingness ofccurs in the same rows (individuals)\nmissmap(starwars)\nstarwars <- subset(starwars, !is.na(starwars$rank1))\n\n#reformat ranking variables (integer to title)\nnum_to_movie <- function(x) {\n  x <- ifelse(x == \"1\", \"Phantom\",\n              ifelse(x == \"2\", \"Clones\",\n                     ifelse(x == \"3\", \"Revenge\",\n                            ifelse(x == \"4\", \"Hope\",\n                                   ifelse(x == \"5\", \"Empire\", \"Return\")))))\n  return(x)\n}\nstarwars[,10:16] <- starwars[,10:16] %>% num_to_movie()\n\n\n\n\n\n\n\n\n\n\n\n",
    "created" : 1526503230840.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1314139793",
    "id" : "386B0D0",
    "lastKnownWriteTime" : 1526664747,
    "last_content_update" : 1526664747323,
    "path" : "~/Google Drive/Data Projects/TidyTuesday/week7.R",
    "project_path" : "week7.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}