library(tidyverse)
starwars <- read.csv("Data/week7_starwars.csv")
week7_starwars <- read_csv("~/Google Drive/Data Projects/TidyTuesday/Data/week7_starwars.csv")
View(week7_starwars)
starwars <- read_csv("~/Google Drive/Data Projects/TidyTuesday/Data/week7_starwars.csv")
names(starwars)
names(starwars)
names(starwars)[4:9]
names(starwars)[4:10]
paste0("seen_",seq(1:6))
names(starwars)[4:9] <- paste0("seen_",seq(1:6))
names(starwars)
names(starwars)[10:15]
names(starwars)[10:15] <- paste0("rank_", seq(1:6))
names(starwars)
starwars[1,16:29]
paste0("favorability_",starwars[1,16:29])
names(starwars)[16:29] <- paste0("favorability_",starwars[1,16:29])
names(starwars)
names(starwars)
starwars <- starwars[-c(1),]
starwars
View(starwars)
starwars <- read_csv("~/Google Drive/Data Projects/TidyTuesday/Data/week7_starwars.csv")
names(starwars)
names(starwars)[4:9] <- paste0("seen_", seq(1:6))
names(starwars)[10:15] <- paste0("rank_", seq(1:6))
names(starwars)[16:29] <- paste0("favorability_",starwars[1,16:29])
starwars <- starwars[-c(1),]
starwars
starwars[1,1]
as.data.frame(starwars)
starwars <- read_csv("~/Google Drive/Data Projects/TidyTuesday/Data/week7_starwars.csv")
#Rename columns
names(starwars)
names(starwars)[4:9] <- paste0("seen_", seq(1:6))
names(starwars)[10:15] <- paste0("rank_", seq(1:6))
names(starwars)[16:29] <- paste0("favorability_",starwars[1,16:29])
#Remove first row - serves as a subtitle for some headers
starwars <- as.data.frame(starwars[-c(1),])
View(starwars)
ggplot(starwars, aes(Gender,Age))
names(starwars)[1]
names(starwars)[2]
names(starwars)[2] <- "seen_any"
names(starwars)[3]
names(starwars)
names(starwars)[3] <- "fan"
names(starwars)
ggplot(starwars, aes(Age,fan)) +
geom_bar()
ggplot(starwars, aes(Age,fan)) +
geom_bar()
ggplot(starwars, aes(fan)) +
geom_bar()
ggplot(starwars, aes(fan)) +
geom_bar(aes(fill=age))
ggplot(starwars, aes(fan)) +
geom_bar(aes(fill=Age))
ggplot(starwars, aes(fan)) +
geom_bar(aes(fill=Age), position="dodge")
ggplot(starwars, aes(favorability_Yoda)) +
geom_bar(aes(fill=Gender), position="dodge")
ggplot(starwars, aes(favorability_Yoda)) +
geom_bar(position="dodge")
ggplot(starwars, aes(favorability_Yoda)) +
geom_bar(position="dodge") +
facet_wrap(. ~ Gender)
ggplot(starwars, aes(favorability_Yoda)) +
geom_bar(position="dodge") +
facet_wrap( ~ Gender)
names(starwars)[1] <- "ID"
library(stringr)
?str_replace_all
names(starwars) <- str_replace_all(names(starwars), fixed(" "), "")
names(starwars)
starwars <- read_csv("~/Google Drive/Data Projects/TidyTuesday/Data/week7_starwars.csv")
#Rename columns
names(starwars)[1] <- "ID"
names(starwars)[2] <- "seenAny"
names(starwars)[3] <- "fan"
names(starwars)[4:9] <- paste0("seen", seq(1:6))
names(starwars)[10:15] <- paste0("rank", seq(1:6))
names(starwars)[16:29] <- paste0("favorability",starwars[1,16:29])
names(starwars)[30] <- "shotFirst"
names(starwars)
library(readr)
library(stringr)
starwars <- read_csv("~/Google Drive/Data Projects/TidyTuesday/Data/week7_starwars.csv")
#Rename columns
names(starwars)[1] <- "ID"
names(starwars)[2] <- "seenAny"
names(starwars)[3] <- "fan"
names(starwars)[4:9] <- paste0("seen", seq(1:6))
names(starwars)[10:15] <- paste0("rank", seq(1:6))
names(starwars)[16:29] <- paste0("favorability",starwars[1,16:29])
names(starwars)[30] <- "shotFirst"
names(starwars)[31] <- "familiarExpanded"
names(starwars)[32] <- "fanExpanded"
names(starwars)[33] <- "fanStarTrek"
names(starwars)[34] <- "gender"
names(starwars)[35] <- "age"
names(starwars)[36] <- "income"
names(starwars)[37] <- "education"
names(starwars)[38] <- "censusRegion"
names(starwars) <- str_replace_all(names(starwars), fixed(" "), "")
starwars <- as.data.frame(starwars[-c(1),])
ggplot(starwars, aes(favorabilityYoda)) +
geom_bar(position="dodge") +
facet_wrap( ~ gender)
library(Amelia)
missmap(starwars)
dim(starwars)
sum(is.na(starwars$rank1))
starwars <- subset(starwars, !is.na(starwars$rank1))
dim(starwars)
missmap(starwars)
summary(starwars$rank1)
starwars$rank1
library(dplyr)
num_to_movie <- function(x) {
x <- ifelse(x == "1", "Phantom",
ifelse(x == "2", "Clones",
ifelse(x == "3", "Revenge",
ifelse("4", "Hope",
ifelse("5", "Empire", "Return")))))
}
num_to_movie(starwars$rank1)
num_to_movie <- function(x) {
x <- ifelse(x == "1", "Phantom",
ifelse(x == "2", "Clones",
ifelse(x == "3", "Revenge",
ifelse("4", "Hope",
ifelse("5", "Empire", "Return")))))
return(x)
}
num_to_movie(starwars$rank1)
library(readr)
library(stringr)
library(Amelia)
library(dplyr)
starwars <- read_csv("~/Google Drive/Data Projects/TidyTuesday/Data/week7_starwars.csv")
#Rename columns
names(starwars)[1] <- "ID"
names(starwars)[2] <- "seenAny"
names(starwars)[3] <- "fan"
names(starwars)[4:9] <- paste0("seen", seq(1:6))
names(starwars)[10:15] <- paste0("rank", seq(1:6))
names(starwars)[16:29] <- paste0("favorability",starwars[1,16:29])
names(starwars)[30] <- "shotFirst"
names(starwars)[31] <- "familiarExpanded"
names(starwars)[32] <- "fanExpanded"
names(starwars)[33] <- "fanStarTrek"
names(starwars)[34] <- "gender"
names(starwars)[35] <- "age"
names(starwars)[36] <- "income"
names(starwars)[37] <- "education"
names(starwars)[38] <- "censusRegion"
#Remove spaces
names(starwars) <- str_replace_all(names(starwars), fixed(" "), "")
#Remove first row - serves as a subtitle for some headers
starwars <- as.data.frame(starwars[-c(1),])
starwars$rank1
starwars <- subset(starwars, !is.na(starwars$rank1))
starwars$rank1
num_to_movie(starwars$rank1)
starwars$rank1
num_to_movie <- function(x) {
x <- ifelse(x == "1", "Phantom",
ifelse(x == "2", "Clones",
ifelse(x == "3", "Revenge",
ifelse(x == "4", "Hope",
ifelse(x == "5", "Empire", "Return")))))
return(x)
}
num_to_movie(starwars$rank1)
names(starwars)
num_to_movie(starwars[,10:16])
starwars[,10:16] <- num_to_movie(starwars[,10:16])
library(readr)
library(stringr)
library(Amelia)
library(dplyr)
starwars <- read_csv("~/Google Drive/Data Projects/TidyTuesday/Data/week7_starwars.csv")
#Rename columns
names(starwars)[1] <- "ID"
names(starwars)[2] <- "seenAny"
names(starwars)[3] <- "fan"
names(starwars)[4:9] <- paste0("seen", seq(1:6))
names(starwars)[10:15] <- paste0("rank", seq(1:6))
names(starwars)[16:29] <- paste0("favorability",starwars[1,16:29])
names(starwars)[30] <- "shotFirst"
names(starwars)[31] <- "familiarExpanded"
names(starwars)[32] <- "fanExpanded"
names(starwars)[33] <- "fanStarTrek"
names(starwars)[34] <- "gender"
names(starwars)[35] <- "age"
names(starwars)[36] <- "income"
names(starwars)[37] <- "education"
names(starwars)[38] <- "censusRegion"
#Remove spaces
names(starwars) <- str_replace_all(names(starwars), fixed(" "), "")
#Remove first row - serves as a subtitle for some headers
starwars <- as.data.frame(starwars[-c(1),])
#Much of the missingness ofccurs in the same rows (individuals)
missmap(starwars)
starwars <- subset(starwars, !is.na(starwars$rank1))
#reformat ranking variables (integer to title)
num_to_movie <- function(x) {
x <- ifelse(x == "1", "Phantom",
ifelse(x == "2", "Clones",
ifelse(x == "3", "Revenge",
ifelse(x == "4", "Hope",
ifelse(x == "5", "Empire", "Return")))))
return(x)
}
starwars[,10:16] <- starwars[,10:16] %>% num_to_movie()
