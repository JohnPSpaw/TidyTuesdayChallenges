theme_fivethirtyeight() +
ylab("Count") +
xlab("Movie") +
ggtitle("Least Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank6") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
ylab("Count") +
xlab("Movie") +
ggtitle("Least Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
source('~/Google Drive/Data Projects/TidyTuesday/Code/week_7/1_process_data_week_7.R')
starwars_rankcount %>%
filter(Rank=="rank6") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
ylab("Count") +
xlab("Movie") +
ggtitle("Least Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
source('~/Google Drive/Data Projects/TidyTuesday/Code/week_7/1_process_data_week_7.R')
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
fav <- starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
least_fav <- starwars_rankcount %>%
filter(Rank=="rank6") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
ylab("Count") +
xlab("Movie") +
ggtitle("Least Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
grid.arrange(fav, least_fav, nrow = 1)
library(gridExtra)
grid.arrange(fav, least_fav, nrow = 1)
fav
devtools::install_github("butterflyology/spaceMovie")
library("spaceMovie")
fav <- starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_color_manual(values = SW_palette("Chopper")) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
fav <- starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("Chopper")) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
fav <- starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("Chopper")) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
least_fav <- starwars_rankcount %>%
filter(Rank=="rank6") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
ylab("Count") +
xlab("Movie") +
ggtitle("Least Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
least_fav <- starwars_rankcount %>%
filter(Rank=="rank6") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
ylab("Count") +
xlab("Movie") +
ggtitle("Least Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
fav
fav <- starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
SW_palette("TESB")[1,3,5,8]
SW_palette("TESB")
str(SW_palette("TESB"))
SW_palette("TESB")[1:4]
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(1,3,5,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(1,3,5,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(1,2,5,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(1,2,6,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(1,5,6,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(1,2,6,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(1,2,7,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(3,2,7,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(3,5,7,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(3,5,7,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank6") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(3,5,7,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Least Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(3,5,7,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank6") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(3,5,7,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Least Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank6") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(3,5,7,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Least Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 25, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(3,5,7,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank1") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(3,5,7,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
starwars_rankcount %>%
filter(Rank=="rank6") %>%
ggplot(aes(Title, n)) +
geom_bar(stat = "identity",
position="stack",
aes(fill = Age)) +
theme_fivethirtyeight() +
scale_fill_manual(values = SW_palette("TESB")[c(3,5,7,8)]) +
ylab("Count") +
xlab("Movie") +
ggtitle("Least Favorite Star Wars Movie By Age") +
theme(plot.title = element_text(size = 15, face = "bold"))
0.1*0.8*0.5
0.1*0.8*0.5*0.5
*9
0.1*0.8*0.5*0.5*9
0.3*0.2*0.5*0.5*9
0.4*9
0.04*9
install.packages("ImageMagick")
library(readr)
library(ggplot2)
library(openintro) #abb2state
library(magrittr)
library(dplyr)
library(Amelia)
library(gganimate)
#Final processed dataset ... could also clean this by hand using separate files... for another time...
honey_production <- read_csv("Data/week8_honey_production/honeyproduction.csv")
#Convert state abbreviations to lowercase names
honey_production$state %<>%
abbr2state() %>%
tolower()
#Add production data to a map dataframe for plotting
production_map <- map_data("state")
production_map %<>%
full_join(honey_production, by = c("region" = "state"))
#Create US map of honey production by state
h_map <- ggplot(production_map, aes(long, lat)) +
geom_polygon(aes(group = group,
fill = totalprod,
frame = year)) +
scale_fill_distiller(palette = "Spectral") +
coord_map('mercator') +
theme_void() +
theme(legend.position="bottom", legend.box="horizontal",
legend.key.width=grid::unit(.1,'npc')) +
guides(fill = guide_colourbar(title.position="top",
title.hjust = 0.5))
install.packages("ImageMagick")
library("ImageMagick")
install.packages("ImageMagick")
library("ImageMagick")
install.packages("ImageMagick")
h_map <- ggplot(production_map, aes(long, lat)) +
geom_polygon(aes(group = group,
fill = totalprod,
frame = year)) +
scale_fill_distiller(palette = "Spectral") +
coord_map('mercator') +
theme_void() +
theme(legend.position="bottom", legend.box="horizontal",
legend.key.width=grid::unit(.1,'npc')) +
guides(fill = guide_colourbar(title.position="top",
title.hjust = 0.5))
#How has value of production, which in some sense could be tied to demand, changed every year?
library(readr)
library(ggplot2)
library(openintro) #abb2state
library(magrittr)
library(dplyr)
library(Amelia)
library(gganimate)
gganimate(h_map, interval = 5)
gganimate(h_map, interval = 1)
gganimate(h_map, interval = 0.2)
gganimate(h_map, "yearly_honey_production.gif", interval = 1, )
gganimate(h_map, "yearly_honey_production.mp4", interval = 1, )
gganimate(h_map, "yearly_honey_production.swf", interval = 1, )
gganimate(h_map, "yearly_honey_production.gif", interval = 1, )
?scales
??scales
gganimate(h_map, "Plots/yearly_honey_production.gif", interval = 1, )
honey_production <- read_csv("Data/week8_honey_production/honeyproduction.csv")
#Convert state abbreviations to lowercase names
honey_production$state %<>%
abbr2state() %>%
tolower()
#Change scale of total production
honey_production$totalprod  <- honey_production$totalprod/1000
production_map <- map_data("state")
production_map %<>%
full_join(honey_production, by = c("region" = "state"))
#Create US map of honey production by state
h_map <- ggplot(production_map, aes(long, lat)) +
geom_polygon(aes(group = group,
fill = totalprod,
frame = year)) +
scale_fill_distiller(palette = "Spectral") +
coord_map('mercator') +
theme_void() +
theme(legend.position="bottom", legend.box="horizontal",
legend.key.width=grid::unit(.1,'npc')) +
guides(fill = guide_colourbar(title.position="top",
title.hjust = 0.5))
gganimate(h_map, "Plots/yearly_honey_production.gif", interval = 1)
h_map <- ggplot(production_map, aes(long, lat)) +
geom_polygon(aes(group = group,
fill = totalprod,
frame = year)) +
scale_fill_distiller(palette = "Spectral", labels = scales::commas) +
coord_map('mercator') +
theme_void() +
theme(legend.position="bottom", legend.box="horizontal",
legend.key.width=grid::unit(.1,'npc')) +
guides(fill = guide_colourbar(title.position="top",
title.hjust = 0.5))
h_map <- ggplot(production_map, aes(long, lat)) +
geom_polygon(aes(group = group,
fill = totalprod,
frame = year)) +
scale_fill_distiller(palette = "Spectral", labels = scales::comma) +
coord_map('mercator') +
theme_void() +
theme(legend.position="bottom", legend.box="horizontal",
legend.key.width=grid::unit(.1,'npc')) +
guides(fill = guide_colourbar(title.position="top",
title.hjust = 0.5))
gganimate(h_map, "Plots/yearly_honey_production.gif", interval = 1)
h_map <- ggplot(production_map, aes(long, lat)) +
geom_polygon(aes(group = group,
fill = totalprod,
frame = year)) +
scale_fill_distiller(palette = "Spectral", labels = scales::comma) +
coord_map('mercator') +
theme_void() +
theme(legend.position="bottom", legend.box="horizontal",
legend.key.width=grid::unit(.1,'npc')) +
guides(fill = guide_colourbar(title = "Honey Production (lbs)",
title.position="top",
title.hjust = 0.5))
gganimate(h_map, "Plots/yearly_honey_production.gif", interval = 1)
